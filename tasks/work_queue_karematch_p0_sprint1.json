{
  "project": "karematch",
  "sequence": 2,
  "last_updated": "2026-01-18T00:00:00Z",
  "updated_by": "ai-orchestrator-findings-implementation",
  "phase": "Phase 2: Core Completion (Sprint 1-2)",
  "priority": "P0 - BLOCKS BETA LAUNCH",
  "fingerprints": [],
  "summary": {
    "total": 12,
    "complete": 0,
    "blocked": 0,
    "pending": 12,
    "archived": 0
  },
  "features": [
    {
      "id": "E2-MATCHING-001",
      "epic": "E2",
      "description": "Implement deterministic scoring algorithm (server-side): Location (0-25), Insurance (0-25), Specialty (0-25), Availability (0-15), Demographics (0-10)",
      "file": "services/matching/src/deterministic-matcher.ts",
      "status": "pending",
      "tests": [
        "services/matching/src/deterministic-matcher.test.ts"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 50,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "L",
      "blocks_beta": true,
      "estimated_hours": 8,
      "owner": "Lead Developer",
      "dependencies": []
    },
    {
      "id": "E2-MATCHING-002",
      "epic": "E2",
      "description": "Fix proximity matching - currently returns null, implement proper geolocation scoring",
      "file": "services/matching/src/proximity.ts",
      "status": "pending",
      "tests": [
        "services/matching/src/proximity.test.ts"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "BUGFIX_COMPLETE",
      "max_iterations": 15,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "bugfix",
      "agent": "bugfix",
      "priority": "P0",
      "effort": "M",
      "blocks_beta": true,
      "estimated_hours": 4,
      "owner": "Lead Developer",
      "dependencies": []
    },
    {
      "id": "E2-MATCHING-003",
      "epic": "E2",
      "description": "Wire enhanced-matcher.ts to /api/matching/find route - connect existing enhanced matcher to API endpoint",
      "file": "services/matching/src/routes.ts",
      "status": "pending",
      "tests": [
        "services/matching/src/routes.test.ts"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 30,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "M",
      "blocks_beta": true,
      "estimated_hours": 4,
      "owner": "Lead Developer",
      "dependencies": ["E2-MATCHING-001"]
    },
    {
      "id": "E2-MATCHING-004",
      "epic": "E2",
      "description": "Implement match explainability UI - show user WHY each therapist matched (which criteria contributed points)",
      "file": "remix-frontend/app/components/matching/MatchExplanation.tsx",
      "status": "pending",
      "tests": [
        "remix-frontend/app/components/matching/MatchExplanation.test.tsx"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 40,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "M",
      "blocks_beta": false,
      "estimated_hours": 3,
      "owner": "Frontend Developer",
      "dependencies": ["E2-MATCHING-003"]
    },
    {
      "id": "E0-SAFETY-001",
      "epic": "E0",
      "description": "Wire crisis intercept components to patient search flow - connect CrisisIntercept.tsx to routes, add crisis detection rules (keyword matching)",
      "file": "remix-frontend/app/routes/patient.find-therapist.tsx",
      "status": "pending",
      "tests": [
        "remix-frontend/app/routes/patient.find-therapist.test.tsx"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 30,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "M",
      "blocks_beta": true,
      "estimated_hours": 3,
      "owner": "Backend Developer",
      "dependencies": []
    },
    {
      "id": "E0-SAFETY-002",
      "epic": "E0",
      "description": "Add global rate limiting middleware - use express-rate-limit on all API routes (not just geocoding/MFA)",
      "file": "api/src/middleware/rate-limit.ts",
      "status": "pending",
      "tests": [
        "api/src/middleware/rate-limit.test.ts"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 20,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "S",
      "blocks_beta": true,
      "estimated_hours": 2,
      "owner": "Backend Developer",
      "dependencies": []
    },
    {
      "id": "E0-SAFETY-003",
      "epic": "E0",
      "description": "Add Google reCAPTCHA v3 to signup, search, and booking forms",
      "file": "remix-frontend/app/components/forms/CaptchaWrapper.tsx",
      "status": "pending",
      "tests": [
        "remix-frontend/app/components/forms/CaptchaWrapper.test.tsx"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 25,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "S",
      "blocks_beta": true,
      "estimated_hours": 2,
      "owner": "Frontend Developer",
      "dependencies": []
    },
    {
      "id": "E0-SAFETY-004",
      "epic": "E0",
      "description": "Fix caregiver flow route mismatch - update CaregiverFlow.tsx to post to /api/auth/consent instead of /api/consent/log",
      "file": "remix-frontend/app/components/patient/CaregiverFlow.tsx",
      "status": "pending",
      "tests": [],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "BUGFIX_COMPLETE",
      "max_iterations": 10,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "bugfix",
      "agent": "bugfix",
      "priority": "P0",
      "effort": "S",
      "blocks_beta": false,
      "estimated_hours": 1,
      "owner": "Frontend Developer",
      "dependencies": []
    },
    {
      "id": "E3-EMAIL-001",
      "epic": "E3",
      "description": "Wire appointment state machine to emit events - add event triggers for appointment.created, approved, rejected, cancelled, rescheduled",
      "file": "services/appointments/src/workflow.ts",
      "status": "pending",
      "tests": [
        "services/appointments/src/workflow.test.ts"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 30,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "M",
      "blocks_beta": false,
      "estimated_hours": 4,
      "owner": "Backend Developer",
      "dependencies": []
    },
    {
      "id": "E3-EMAIL-002",
      "epic": "E3",
      "description": "Create 6 email templates - booking confirmation, appointment approved, appointment rejected, cancellation notice, reschedule notice, reminder",
      "file": "services/communications/src/templates/",
      "status": "pending",
      "tests": [
        "services/communications/src/templates/templates.test.ts"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 35,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "M",
      "blocks_beta": false,
      "estimated_hours": 4,
      "owner": "Backend Developer",
      "dependencies": ["E3-EMAIL-001"]
    },
    {
      "id": "E3-EMAIL-003",
      "epic": "E3",
      "description": "Implement reminder cron Lambda - query appointments 24h in future, send reminder emails, mark as sent",
      "file": "functions/reminder-cron/handler.ts",
      "status": "pending",
      "tests": [
        "functions/reminder-cron/handler.test.ts"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 30,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "M",
      "blocks_beta": false,
      "estimated_hours": 3,
      "owner": "Backend Developer",
      "dependencies": ["E3-EMAIL-002"]
    },
    {
      "id": "E3-EMAIL-004",
      "epic": "E3",
      "description": "Test email delivery with AWS SES sandbox - verify template rendering, delivery tracking, and error handling",
      "file": "services/communications/src/ses-client.ts",
      "status": "pending",
      "tests": [
        "services/communications/src/ses-client.test.ts"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "TEST_COMPLETE",
      "max_iterations": 20,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "test",
      "agent": "testwriter",
      "priority": "P0",
      "effort": "S",
      "blocks_beta": false,
      "estimated_hours": 2,
      "owner": "Backend Developer",
      "dependencies": ["E3-EMAIL-003"]
    }
  ],
  "sprint_info": {
    "sprint": "Sprint 1-2",
    "duration_weeks": 2,
    "start_date": "2026-01-20",
    "end_date": "2026-02-02",
    "goals": [
      "Fix matching algorithm (BLOCKS BETA)",
      "Complete E0 safety features (HIPAA compliance)",
      "Wire email notifications (UX requirement)"
    ],
    "success_criteria": [
      "Matching algorithm functional with test coverage > 80%",
      "Safety features enabled (crisis intercept, rate limiting, CAPTCHA)",
      "Email notification infrastructure wired and tested"
    ]
  },
  "notes": [
    "This work queue is generated from findings and recommendations analysis dated 2026-01-18",
    "Focus is on P0 tasks that BLOCK BETA LAUNCH",
    "E2 Matching Algorithm is CRITICAL - core value prop currently broken",
    "E0 Safety Features are required for HIPAA compliance",
    "E3 Email Notifications are expected by users for production UX",
    "Total estimated effort: ~40 hours (1 week with 3 developers in parallel)",
    "Dependencies are explicitly tracked to ensure correct task ordering"
  ]
}
