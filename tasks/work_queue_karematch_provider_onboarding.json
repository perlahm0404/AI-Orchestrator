{
  "project": "karematch",
  "sequence": 3,
  "last_updated": "2026-01-19T14:30:00Z",
  "updated_by": "manual-sync-audit",
  "phase": "OBJ-KM-002: Provider E2E Experience",
  "priority": "P0 - BLOCKS MARKETPLACE LAUNCH",
  "fingerprints": [],
  "summary": {
    "total": 17,
    "complete": 4,
    "blocked": 0,
    "pending": 13,
    "archived": 0
  },
  "features": [
    {
      "id": "PROVIDER-001",
      "description": "Migrate therapist signup to Remix - Following ADR-KM-002-001, create remix-frontend/app/routes/therapist.signup.tsx with loaders for SSR, actions for form handling, and progressive enhancement",
      "file": "remix-frontend/app/routes/therapist.signup.tsx",
      "status": "completed",
      "tests": [
        "remix-frontend/app/routes/therapist.signup.test.tsx"
      ],
      "passes": true,
      "error": null,
      "attempts": 1,
      "last_attempt": "2026-01-19T00:00:00Z",
      "completed_at": "2026-01-19T14:30:00Z",
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 40,
      "verification_verdict": "PASS",
      "files_actually_changed": ["remix-frontend/app/routes/therapist.signup.tsx"],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "M",
      "blocks_beta": true,
      "estimated_hours": 4,
      "owner": "Full Stack Developer",
      "dependencies": [],
      "adr_references": ["ADR-KM-002-001"],
      "objective_id": "OBJ-KM-002"
    },
    {
      "id": "PROVIDER-002",
      "description": "Migrate onboarding wizard (6 steps) to Remix - Following ADR-KM-002-001, create routes for Practice Info, About Me, Specialties, Credentials, Fees, Availability with consistent loader/action patterns",
      "file": "remix-frontend/app/routes/therapist.onboarding.tsx",
      "status": "completed",
      "tests": [
        "remix-frontend/app/routes/therapist.onboarding.test.tsx"
      ],
      "passes": true,
      "error": null,
      "attempts": 1,
      "last_attempt": "2026-01-19T00:00:00Z",
      "completed_at": "2026-01-19T14:30:00Z",
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 50,
      "verification_verdict": "PASS",
      "files_actually_changed": ["remix-frontend/app/routes/therapist.onboarding.tsx"],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "L",
      "blocks_beta": true,
      "estimated_hours": 8,
      "owner": "Full Stack Developer",
      "dependencies": ["PROVIDER-001"],
      "adr_references": ["ADR-KM-002-001"],
      "objective_id": "OBJ-KM-002"
    },
    {
      "id": "PROVIDER-003",
      "description": "Credentialing Step 5: DEA Certificate - Following ADR-KM-002-002, create remix-frontend/app/routes/therapist.credentialing.step-5.tsx with file upload, validation, and progress tracking",
      "file": "remix-frontend/app/routes/therapist.credentialing.step-5.tsx",
      "status": "completed",
      "tests": [
        "remix-frontend/app/routes/therapist.credentialing.step-5.test.tsx"
      ],
      "passes": true,
      "error": null,
      "attempts": 1,
      "last_attempt": "2026-01-19T00:00:00Z",
      "completed_at": "2026-01-19T14:30:00Z",
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 30,
      "verification_verdict": "PASS",
      "files_actually_changed": ["remix-frontend/app/routes/therapist.credentialing.step-5.tsx"],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "S",
      "blocks_beta": true,
      "estimated_hours": 2,
      "owner": "Frontend Developer",
      "dependencies": ["PROVIDER-002"],
      "adr_references": ["ADR-KM-002-002"],
      "objective_id": "OBJ-KM-002"
    },
    {
      "id": "PROVIDER-004",
      "description": "Credentialing Step 6: Malpractice Insurance - Following ADR-KM-002-002, create step-6.tsx with file upload for insurance certificate, policy number, expiration date validation",
      "file": "remix-frontend/app/routes/therapist.credentialing.step-6.tsx",
      "status": "pending",
      "tests": [
        "remix-frontend/app/routes/therapist.credentialing.step-6.test.tsx"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 30,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "S",
      "blocks_beta": true,
      "estimated_hours": 2,
      "owner": "Frontend Developer",
      "dependencies": ["PROVIDER-003"],
      "adr_references": ["ADR-KM-002-002"],
      "objective_id": "OBJ-KM-002"
    },
    {
      "id": "PROVIDER-005",
      "description": "Credentialing Step 7: Collaborative Agreement - Following ADR-KM-002-002, create step-7.tsx with file upload for collaborative practice agreement (if applicable based on state)",
      "file": "remix-frontend/app/routes/therapist.credentialing.step-7.tsx",
      "status": "pending",
      "tests": [
        "remix-frontend/app/routes/therapist.credentialing.step-7.test.tsx"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 30,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "S",
      "blocks_beta": true,
      "estimated_hours": 2,
      "owner": "Frontend Developer",
      "dependencies": ["PROVIDER-004"],
      "adr_references": ["ADR-KM-002-002"],
      "objective_id": "OBJ-KM-002"
    },
    {
      "id": "PROVIDER-006",
      "description": "Credentialing Step 8: CME Credits (frontend) - Following ADR-KM-002-002, create step-8.tsx frontend for existing backend API, display CME certificate upload and credit tracking",
      "file": "remix-frontend/app/routes/therapist.credentialing.step-8.tsx",
      "status": "pending",
      "tests": [
        "remix-frontend/app/routes/therapist.credentialing.step-8.test.tsx"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 25,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "S",
      "blocks_beta": true,
      "estimated_hours": 2,
      "owner": "Frontend Developer",
      "dependencies": ["PROVIDER-005"],
      "adr_references": ["ADR-KM-002-002"],
      "objective_id": "OBJ-KM-002"
    },
    {
      "id": "PROVIDER-007",
      "description": "Credentialing Step 9: Government ID (frontend) - Following ADR-KM-002-002, create step-9.tsx frontend for existing backend API, secure photo ID upload with encryption",
      "file": "remix-frontend/app/routes/therapist.credentialing.step-9.tsx",
      "status": "pending",
      "tests": [
        "remix-frontend/app/routes/therapist.credentialing.step-9.test.tsx"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 30,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "M",
      "blocks_beta": true,
      "estimated_hours": 3,
      "owner": "Frontend Developer",
      "dependencies": ["PROVIDER-006"],
      "adr_references": ["ADR-KM-002-002"],
      "objective_id": "OBJ-KM-002"
    },
    {
      "id": "PROVIDER-008",
      "description": "Credentialing Step 10: Review & Submit - Following ADR-KM-002-002, create step-10.tsx with document review summary, validation of all required steps, submission to admin review queue",
      "file": "remix-frontend/app/routes/therapist.credentialing.step-10.tsx",
      "status": "pending",
      "tests": [
        "remix-frontend/app/routes/therapist.credentialing.step-10.test.tsx"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 35,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "M",
      "blocks_beta": true,
      "estimated_hours": 3,
      "owner": "Frontend Developer",
      "dependencies": ["PROVIDER-007"],
      "adr_references": ["ADR-KM-002-002"],
      "objective_id": "OBJ-KM-002"
    },
    {
      "id": "PROVIDER-009",
      "description": "Availability wizard migration to Remix - Following ADR-KM-002-004, migrate web/src/components/availability-wizard/ to remix-frontend/app/routes/therapist.availability.tsx with weekly schedule grid",
      "file": "remix-frontend/app/routes/therapist.availability.tsx",
      "status": "pending",
      "tests": [
        "remix-frontend/app/routes/therapist.availability.test.tsx"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 40,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "M",
      "blocks_beta": true,
      "estimated_hours": 5,
      "owner": "Full Stack Developer",
      "dependencies": ["PROVIDER-008"],
      "adr_references": ["ADR-KM-002-004"],
      "objective_id": "OBJ-KM-002"
    },
    {
      "id": "PROVIDER-010",
      "description": "Admin approval workflow - Following ADR-KM-002-003, implement PATCH /api/admin/therapists/:id/approve endpoint to set profile_status='approved', approved_at, approved_by, and trigger 'therapist.approved' event",
      "file": "api/src/routes/admin/therapists.ts",
      "status": "pending",
      "tests": [
        "api/src/routes/admin/therapists.test.ts"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 30,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "M",
      "blocks_beta": true,
      "estimated_hours": 4,
      "owner": "Backend Developer",
      "dependencies": ["PROVIDER-008"],
      "adr_references": ["ADR-KM-002-003"],
      "objective_id": "OBJ-KM-002"
    },
    {
      "id": "PROVIDER-012",
      "description": "Profile publication logic - Following ADR-KM-002-003, implement event handler for 'therapist.approved' to update search index, invalidate cache, and ensure approved providers are searchable",
      "file": "services/search/src/event-handlers.ts",
      "status": "pending",
      "tests": [
        "services/search/src/event-handlers.test.ts"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 35,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "M",
      "blocks_beta": true,
      "estimated_hours": 4,
      "owner": "Backend Developer",
      "dependencies": ["PROVIDER-010"],
      "adr_references": ["ADR-KM-002-003"],
      "objective_id": "OBJ-KM-002"
    },
    {
      "id": "PROVIDER-013",
      "description": "Search filter by approved status - Following ADR-KM-002-003, modify search API to filter WHERE profile_status='approved', ensure draft/pending/rejected profiles never appear to patients",
      "file": "services/search/src/search-api.ts",
      "status": "pending",
      "tests": [
        "services/search/src/search-api.test.ts"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 25,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "S",
      "blocks_beta": true,
      "estimated_hours": 2,
      "owner": "Backend Developer",
      "dependencies": ["PROVIDER-012"],
      "adr_references": ["ADR-KM-002-003"],
      "objective_id": "OBJ-KM-002"
    },
    {
      "id": "PROVIDER-014",
      "description": "Provider dashboard status display - Following ADR-KM-002-003, show status badge (Live/Pending Review/Rejected), public profile link if approved, rejection reason if rejected",
      "file": "remix-frontend/app/routes/therapist.dashboard.tsx",
      "status": "pending",
      "tests": [
        "remix-frontend/app/routes/therapist.dashboard.test.tsx"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 30,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "S",
      "blocks_beta": false,
      "estimated_hours": 2,
      "owner": "Frontend Developer",
      "dependencies": ["PROVIDER-010"],
      "adr_references": ["ADR-KM-002-003"],
      "objective_id": "OBJ-KM-002"
    },
    {
      "id": "PROVIDER-015",
      "description": "Approval email notification - Following ADR-KM-002-003, implement event handler for 'therapist.approved' to send 'Congratulations! Your profile is now live' email with public profile link",
      "file": "services/communications/src/event-handlers.ts",
      "status": "completed",
      "tests": [
        "services/communications/src/event-handlers.test.ts"
      ],
      "passes": true,
      "error": null,
      "attempts": 1,
      "last_attempt": "2026-01-19T00:00:00Z",
      "completed_at": "2026-01-19T14:30:00Z",
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 25,
      "verification_verdict": "PASS",
      "files_actually_changed": ["services/communications/src/event-handlers.ts", "services/communications/src/email.ts", "services/communications/src/event-handlers.test.ts"],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "S",
      "blocks_beta": false,
      "estimated_hours": 2,
      "owner": "Backend Developer",
      "dependencies": ["PROVIDER-010"],
      "adr_references": ["ADR-KM-002-003"],
      "objective_id": "OBJ-KM-002"
    },
    {
      "id": "PROVIDER-016",
      "description": "E2E test: Provider signup to patient booking - Following ADR-KM-002-004, create Playwright test validating full journey: signup → onboard → credential → approve → book, catches integration issues",
      "file": "e2e/provider-journey.spec.ts",
      "status": "pending",
      "tests": [
        "e2e/provider-journey.spec.ts"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "TEST_COMPLETE",
      "max_iterations": 40,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "test",
      "agent": "testwriter",
      "priority": "P0",
      "effort": "L",
      "blocks_beta": true,
      "estimated_hours": 6,
      "owner": "QA Engineer",
      "dependencies": ["PROVIDER-018"],
      "adr_references": ["ADR-KM-002-004"],
      "objective_id": "OBJ-KM-002"
    },
    {
      "id": "PROVIDER-017",
      "description": "Patient profile view - Following ADR-KM-002-004, create remix-frontend/app/routes/providers.$id.tsx to display provider bio, specialties, credentials, pricing, availability with 'Book Appointment' CTA",
      "file": "remix-frontend/app/routes/providers.$id.tsx",
      "status": "pending",
      "tests": [
        "remix-frontend/app/routes/providers.$id.test.tsx"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 35,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "M",
      "blocks_beta": true,
      "estimated_hours": 4,
      "owner": "Frontend Developer",
      "dependencies": ["PROVIDER-013"],
      "adr_references": ["ADR-KM-002-004"],
      "objective_id": "OBJ-KM-002"
    },
    {
      "id": "PROVIDER-018",
      "description": "Patient booking flow - Following ADR-KM-002-004, create remix-frontend/app/routes/book.$providerId.tsx with 3-step flow: select appointment type, select time slot, confirm + patient info, create appointment",
      "file": "remix-frontend/app/routes/book.$providerId.tsx",
      "status": "pending",
      "tests": [
        "remix-frontend/app/routes/book.$providerId.test.tsx"
      ],
      "passes": false,
      "error": null,
      "attempts": 0,
      "last_attempt": null,
      "completed_at": null,
      "completion_promise": "FEATURE_COMPLETE",
      "max_iterations": 45,
      "verification_verdict": null,
      "files_actually_changed": [],
      "type": "feature",
      "agent": "featurebuilder",
      "priority": "P0",
      "effort": "L",
      "blocks_beta": true,
      "estimated_hours": 6,
      "owner": "Full Stack Developer",
      "dependencies": ["PROVIDER-017", "PROVIDER-009"],
      "adr_references": ["ADR-KM-002-004"],
      "objective_id": "OBJ-KM-002"
    }
  ],
  "objective_info": {
    "objective_id": "OBJ-KM-002",
    "title": "Provider E2E Experience - Onboarding to Bookable",
    "description": "Complete provider journey from signup through being bookable by patients. Critical path to marketplace launch.",
    "adrs": [
      "ADR-KM-002-001: Remix Migration Strategy",
      "ADR-KM-002-002: Credentialing Wizard Completion",
      "ADR-KM-002-003: Profile Publication Workflow (CRITICAL)",
      "ADR-KM-002-004: Patient Booking Integration"
    ],
    "success_criteria": [
      "All 17 tasks completed",
      "All 4 ADRs implemented",
      "E2E test passes (PROVIDER-016)",
      "Patients can book appointments with approved providers"
    ]
  },
  "notes": [
    "This work queue is generated from OBJ-KM-002 and its 4 ADRs dated 2026-01-19",
    "ADR-KM-002-003 (Profile Publication) is the CRITICAL MISSING PIECE - no code currently makes approved providers searchable",
    "Tasks are sequenced with explicit dependencies to ensure correct ordering",
    "Total estimated effort: ~65 hours (1.5 weeks with 2-3 developers in parallel)",
    "Completion of this objective UNBLOCKS MARKETPLACE LAUNCH",
    "Each task references its ADR for architectural context and consistency"
  ]
}
