# KareMatch Adapter Configuration
#
# Project-specific settings for KareMatch.
# These tell Ralph HOW to verify, not WHAT rules to apply.
#
# Governance Authority: MissionControl
# Constitutional Principles: /Users/tmac/1_REPOS/MissionControl/governance/capsule/
# Global Policies: /Users/tmac/1_REPOS/MissionControl/governance/policies/

# MissionControl governance integration
governance:
  authority: MissionControl
  capsule_path: /Users/tmac/1_REPOS/MissionControl/governance/capsule/
  policies_path: /Users/tmac/1_REPOS/MissionControl/governance/policies/
  # Policies to load (in addition to adapter-specific rules)
  policies:
    - database-safety.md
    - security.md
    - governance.md

project:
  name: karematch
  path: /Users/tmac/1_REPOS/karematch
  language: typescript

commands:
  lint: "npm run lint"
  typecheck: "npm run check"
  test: "npm test"
  coverage: "npm run test:coverage"

# Scanner-specific commands (for bug discovery)
scanner_commands:
  lint: "npx eslint . --format=json"  # Bypass Turbo for JSON output
  typecheck: "npx tsc --noEmit --pretty false"  # Direct TypeScript check
  test: "npx vitest run --reporter=json --run"  # Direct Vitest with JSON
  guardrails: "rg '@ts-ignore|@ts-nocheck|eslint-disable|\\.skip\\(|\\.only\\(' --json --type typescript --type typescriptreact"

paths:
  source:
    - "src/"
    - "apps/"
    - "packages/"
  tests:
    - "tests/"
    - "__tests__/"
    - "**/*.test.ts"
    - "**/*.spec.ts"
  coverage_report: "coverage/lcov.info"

# L2 = Higher autonomy (not HIPAA)
autonomy_level: L2

# Project-specific thresholds (override policy defaults)
thresholds:
  coverage_minimum: 80
